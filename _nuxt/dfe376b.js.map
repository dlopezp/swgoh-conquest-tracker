{"version":3,"sources":["webpack:///./plugins/vuesax.js","webpack:///./plugins/fragment.js","webpack:///./plugins/init.js","webpack:///./layouts/navbar.vue?7dfe","webpack:///./layouts/navbar.vue","webpack:///./layouts/navbar.vue?d288","webpack:///./layouts/navbar.vue?9b0a","webpack:///./layouts/default.vue?21fa","webpack:///./layouts/default.vue","webpack:///./assets/css/main.css?f97f","webpack:///./assets/css/main.css","webpack:///./store/index.js"],"names":["Vue","use","Vuesax","Plugin","inject","$content","store","fetch","conquest","commit","computed","mapGetters","isLoggedIn","user","methods","logout","this","$store","dispatch","component","_vm","_h","$createElement","_c","_self","attrs","photoURL","displayName","charAt","toLocaleUpperCase","_v","on","_s","$t","content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","state","tracker","getters","getTracker","actions","onAuthStateChangedAction","authUser","claims","strTracker","localStorage","getItem","JSON","parse","$fire","firestore","collection","doc","uid","get","userTracker","exists","data","auth","signOut","updateTracker","prop","newTracker","setItem","stringify","set","mergeTracker","merge","mutations","SET_CONQUEST","SET_TRACKER","UPDATE_TRACKER","MERGE_TRACKER","ON_AUTH_STATE_CHANGED_MUTATION","email","emailVerified"],"mappings":"0FAAA,2CAMAA,UAAIC,IAAIC,M,iCCNR,oBAGAF,UAAIC,IAAIE,M,6GCHO,aAAqCC,GAArC,iGAAkBC,EAAlB,EAAkBA,SAAUC,EAA5B,EAA4BA,MAEf,cAFb,SAGUD,EADG,eACyBE,QAHtC,OAGPC,EAHO,OAIbF,EAAMG,OAAO,eAAgB,CAAED,aAJlB,4C,sBAAA,kBAAf,iC,ulFCAA,I,kQCiCe,OACbE,S,uYAAU,CAAF,GACHC,YAAW,CACZC,WAAY,aACZC,KAAM,UAGVC,QAAS,CACPC,OADO,WAELC,KAAKC,OAAOC,SAAS,aC1CyN,I,QCOhPC,UAAY,YACd,GHRW,WAAa,IAAIC,EAAIJ,KAASK,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAAEH,EAAc,WAAEG,EAAG,WAAW,CAACA,EAAG,cAAc,CAAEH,EAAIP,KAAa,SAAEU,EAAG,YAAY,CAACE,MAAM,CAAC,IAAML,EAAIP,KAAKa,SAAS,KAAO,WAAWH,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAIP,KAAKc,YAAYC,OAAO,GAAGC,oBAAoB,KAAO,WAAWT,EAAIU,GAAG,KAAKP,EAAG,mBAAmB,CAACA,EAAG,mBAAmB,CAACQ,GAAG,CAAC,MAAQX,EAAIL,SAAS,CAACK,EAAIU,GAAG,iBAAiBV,EAAIY,GAAGZ,EAAIa,GAAG,WAAW,mBAAmB,IAAI,IAAI,GAAGV,EAAG,WAAW,CAACH,EAAIU,GAAG,gCAAgC,GAAGV,EAAIU,GAAG,KAAKP,EAAG,SAAS,KAC/jB,IGUpB,EACA,KACA,KACA,MAIa,IAAAJ,U,0CClBf,I,QCMIA,UAAY,YALH,IDDA,WAAa,IAAiBE,EAATL,KAAgBM,eAAmBC,EAAnCP,KAA0CQ,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,KAChG,ICSpB,EACA,KACA,KACA,MAIa,IAAAJ,U,iFCdf,IAAIe,QAAU,EAAQ,KACnBA,QAAQC,aAAYD,QAAUA,QAAQE,SACnB,iBAAZF,UAAsBA,QAAU,CAAC,CAACG,EAAOC,EAAIJ,QAAS,MAC7DA,QAAQK,SAAQF,EAAOG,QAAUN,QAAQK,SAG/BE,EADH,EAAQ,IAA+DL,SAChE,WAAYF,SAAS,EAAM,CAAC,WAAY,K,oBCRzD,IACIQ,EAD8B,EAAQ,GACZC,EAA4B,GAE1DD,EAAwBE,KAAK,CAACP,EAAOC,EAAI,0bAAic,KAE1eD,EAAOG,QAAUE,G,y5BCJV,IAAMG,EAAQ,iBAAO,CAC1BhC,KAAM,KACNiC,QAAS,KACTtC,SAAU,OAGCuC,EAAU,CACrBnC,WAAY,SAAAiC,GAAK,QAAMA,EAAMhC,MAC7BA,KAAM,SAAAgC,GAAK,OAAIA,EAAMhC,MACrBL,SAAU,SAAAqC,GAAK,OAAIA,EAAMrC,UACzBwC,WAAY,SAAAH,GAAK,OAAIA,EAAMC,SAAW,KAG3BG,EAAU,CACfC,yBADe,cAC6C,uKAAhCzC,EAAgC,EAAhCA,OAAY0C,EAAoB,EAApBA,SAAoB,EAAVC,OAEjDD,EAF2D,uBAGxDE,EAAaC,aAAaC,QAAQ,cAEhCT,EAAUU,KAAKC,MAAMJ,GAC3B5C,EAAO,cAAe,CAAEqC,aANoC,0CAWtC,EAAKY,MAAMC,UAAUC,WAAW,WAAWC,IAAIV,EAASW,KAAKC,MAXvB,QAW1DC,EAX0D,QAYhDC,SACRnB,EAAUkB,EAAYE,OAC5BzD,EAAO,cAAe,CAAEqC,aAdsC,+CAiB5D/B,OAlBe,WAkBL,oKACR,EAAK2C,MAAMS,KAAKC,UADR,8CAGVC,cArBe,WAqBmBC,GAAM,iKAAvB7D,EAAuB,EAAvBA,OAAQoC,EAAe,EAAfA,MACvB0B,EADsC,OACnB1B,EAAMC,SAAW,IAAQwB,GAClD7D,EAAO,cAAe,CAAEqC,QAASyB,IAE5B1B,EAAMhC,KAJiC,uBAK1CyC,aAAakB,QAAQ,UAAWhB,KAAKiB,UAAUF,IALL,0CAStC,EAAKb,MAAMC,UAAUC,WAAW,WAAWC,IAAIhB,EAAMhC,KAAKiD,KAAKY,IAAIH,GAT7B,8CAWxCI,aAhCe,WAgCkBL,GAAM,iKAAvB7D,EAAuB,EAAvBA,OAAQoC,EAAe,EAAfA,MACtB0B,EAAaK,IAAO/B,EAAMC,SAAW,GAAKwB,GAChD7D,EAAO,cAAe,CAAEqC,QAASyB,IAE5B1B,EAAMhC,KAJgC,uBAKzCyC,aAAakB,QAAQ,UAAWhB,KAAKiB,UAAUF,IALN,0CASrC,EAAKb,MAAMC,UAAUC,WAAW,WAAWC,IAAIhB,EAAMhC,KAAKiD,KAAKY,IAAIH,GAT9B,+CAalCM,EAAY,CACvBC,aAAc,SAACjC,EAAD,GAAyB,IAAfrC,EAAe,EAAfA,SAAiBqC,EAAMrC,SAAWA,GAC1DuE,YAAa,SAAClC,EAAD,GAAwB,IAAdC,EAAc,EAAdA,QAAgBD,EAAMC,QAAUA,GACvDkC,eAHuB,SAGPnC,EAAOyB,GACrB,IAAMC,EAAa,EAAH,KAAS1B,EAAMC,SAAW,IAAQwB,GAClDzB,EAAMC,QAAUyB,GAElBU,cAPuB,SAORpC,EAAOyB,GACpB,IAAMC,EAAaK,IAAM/B,EAAMC,QAASwB,GACxCzB,EAAMC,QAAUyB,GAElBW,+BAAgC,SAACrC,EAAD,GAAiC,IAAvBM,EAAuB,EAAvBA,SAAuB,EAAbC,OAElD,GAAKD,EAGE,CACL,IAAQW,EAAqDX,EAArDW,IAAKqB,EAAgDhC,EAAhDgC,MAAOC,EAAyCjC,EAAzCiC,cAAezD,EAA0BwB,EAA1BxB,YAAaD,EAAayB,EAAbzB,SAChDmB,EAAMhC,KAAO,CAAEiD,MAAKqB,QAAOC,gBAAezD,cAAaD,iBAJvDmB,EAAMhC,KAAO,KACbgC,EAAMC,QAAU,S","file":"dfe376b.js","sourcesContent":["import Vue from 'vue'\nimport Vuesax from 'vuesax'\n\nimport 'vuesax/dist/vuesax.css'\nimport 'material-icons/iconfont/material-icons.css'\n\nVue.use(Vuesax)\n","import Vue from 'vue'\nimport { Plugin } from 'vue-fragment'\n\nVue.use(Plugin)\n","export default async function ({ $content, store }, inject) {\n  // ToDo: Parametrizar\n  const currentConquestId = 'CONQUEST_13'\n  const conquest = await $content(currentConquestId).fetch()\n  store.commit('SET_CONQUEST', { conquest })\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header',[(_vm.isLoggedIn)?_c('fragment',[_c('vs-dropdown',[(_vm.user.photoURL)?_c('vs-avatar',{attrs:{\"src\":_vm.user.photoURL,\"size\":\"large\"}}):_c('vs-avatar',{attrs:{\"text\":_vm.user.displayName.charAt(0).toLocaleUpperCase(),\"size\":\"large\"}}),_vm._v(\" \"),_c('vs-dropdown-menu',[_c('vs-dropdown-item',{on:{\"click\":_vm.logout}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('logout'))+\"\\n          \")])],1)],1)],1):_c('fragment',[_vm._v(\"\\n      LoginButton\\n    \")])],1),_vm._v(\" \"),_c('Nuxt')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\n\nexport default {\n  computed: {\n    ...mapGetters({\n      isLoggedIn: 'isLoggedIn',\n      user: 'user'\n    })\n  },\n  methods: {\n    logout () {\n      this.$store.dispatch('logout')\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navbar.vue?vue&type=template&id=0cf3bbbc&\"\nimport script from \"./navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./navbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Nuxt')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./default.vue?vue&type=template&id=281c36bf&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!./main.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f52d43e0\", content, true, {\"sourceMap\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html{font-family:\\\"Source Sans Pro\\\",-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,sans-serif;font-size:16px;word-spacing:1px;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box}*,:after,:before{box-sizing:border-box;margin:0}.sector-header{display:flex;justify-content:space-between}.sector-header img{max-width:13px}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","import merge from 'deepmerge'\n\nexport const state = () => ({\n  user: null,\n  tracker: null,\n  conquest: null\n})\n\nexport const getters = {\n  isLoggedIn: state => !!state.user,\n  user: state => state.user,\n  conquest: state => state.conquest,\n  getTracker: state => state.tracker || {}\n}\n\nexport const actions = {\n  async onAuthStateChangedAction ({ commit }, { authUser, claims }) {\n    // console.log('onAuthStateChangedAction', { authUser, claims })\n    if (!authUser) {\n      const strTracker = localStorage.getItem('tracker')\n      if (strTracker) {\n        const tracker = JSON.parse(strTracker)\n        commit('SET_TRACKER', { tracker })\n      }\n      return\n    }\n\n    const userTracker = await this.$fire.firestore.collection('tracker').doc(authUser.uid).get()\n    if (userTracker.exists) {\n      const tracker = userTracker.data()\n      commit('SET_TRACKER', { tracker })\n    }\n  },\n  async logout () {\n    await this.$fire.auth.signOut()\n  },\n  async updateTracker ({ commit, state }, prop) {\n    const newTracker = { ...(state.tracker || {}), ...prop }\n    commit('SET_TRACKER', { tracker: newTracker })\n\n    if (!state.user) {\n      localStorage.setItem('tracker', JSON.stringify(newTracker))\n      return\n    }\n\n    await this.$fire.firestore.collection('tracker').doc(state.user.uid).set(newTracker)\n  },\n  async mergeTracker ({ commit, state }, prop) {\n    const newTracker = merge((state.tracker || {}), prop)\n    commit('SET_TRACKER', { tracker: newTracker })\n\n    if (!state.user) {\n      localStorage.setItem('tracker', JSON.stringify(newTracker))\n      return\n    }\n\n    await this.$fire.firestore.collection('tracker').doc(state.user.uid).set(newTracker)\n  }\n}\n\nexport const mutations = {\n  SET_CONQUEST: (state, { conquest }) => { state.conquest = conquest },\n  SET_TRACKER: (state, { tracker }) => { state.tracker = tracker },\n  UPDATE_TRACKER (state, prop) {\n    const newTracker = { ...(state.tracker || {}), ...prop }\n    state.tracker = newTracker\n  },\n  MERGE_TRACKER (state, prop) {\n    const newTracker = merge(state.tracker, prop)\n    state.tracker = newTracker\n  },\n  ON_AUTH_STATE_CHANGED_MUTATION: (state, { authUser, claims }) => {\n    // console.log('ON_AUTH_STATE_CHANGED_MUTATION', { authUser, claims })\n    if (!authUser) {\n      state.user = null\n      state.tracker = null\n    } else {\n      const { uid, email, emailVerified, displayName, photoURL } = authUser\n      state.user = { uid, email, emailVerified, displayName, photoURL }\n    }\n  }\n}"],"sourceRoot":""}